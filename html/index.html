<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">  
  <link rel="stylesheet" type="text/css" src="css/dygraph.css" />
  <link rel="stylesheet" type="text/css" href="css/thermoSquidClient.css">
  <title>* Endlas ThermoSquid *</title>
  <script type="text/javascript" src="js/dygraph.min.js"></script>
  <script type="text/javascript" src="js/thermoSquidClient.js"></script>    
</head>

<body onload="startup();">

  <body>
    <header>
      <div class="logos">
        <img src="img/thermoSquid2.png" alt="Endlas Additive" style="max-width:12em;max-height:7.5em;width:auto;height:auto;margin-left:0.5em;" />
      </div>
      <div class="AllDataContainer">
        <span style="margin-right:0.25em;">
            <input type="radio" id="degreesC" name="choice" value="째C" onchange="toggleTemperatureScale();" checked>
            <label for="degreesC">째C</label><br>
            <input type="radio" id="degreesF" name="choice" value="째F" onchange="toggleTemperatureScale();">
            <label for="degreesF">째F</label><br>
          </form>
        </span>
        <div class="panel" id="thermo1Panel">
          <h4 id="editable-heading1"></h4>
          <div class="outputData">
            <span class="outputDataValue" id="thermo1Value"></span>
            <span class="outputDataUnits" id="thermo1Scale"></span>
          </div>
        </div>
	  <script>
	    const heading1 = document.getElementById('editable-heading1');
	    heading1.addEventListener('click', function() {
	      const editableText1 = document.createElement('input');
	      editableText1.value = heading1.textContent;
	      editableText1.addEventListener('keydown', function(event) {
	        if (event.key === 'Enter') {
            if(editableText1.value) {
              heading1.textContent = editableText1.value;
              changeHeaderText(0, editableText1.value);
	            editableText1.remove();
            }
          }
        });
	      editableText1.addEventListener('blur', function() {
          if(editableText1.value) {
            heading1.textContent = editableText1.value;
            changeHeaderText(0, editableText1.value);
	          editableText1.remove();
          }
	      });
	      heading1.textContent = '';
	      heading1.appendChild(editableText1);
        editableText1.focus();
	    });
	</script>
        <div class="panel" id="thermo2Panel">
          <h4 id="editable-heading2"></h4>
          <div class="outputData">
            <span class="outputDataValue" id="thermo2Value"></span>
            <span class="outputDataUnits" id="thermo2Scale"></span>
          </div>
        </div>
	  <script>

      const heading2 = document.getElementById('editable-heading2');
	    heading2.addEventListener('click', function() {
	      const editableText2 = document.createElement('input');
	      editableText2.value = heading2.textContent;
	      editableText2.addEventListener('keydown', function(event) {
	        if (event.key === 'Enter') {
            if(editableText2.value) {
              heading2.textContent = editableText2.value;
              changeHeaderText(1, editableText2.value);
	            editableText2.remove();
            }
          }
        });
	      editableText2.addEventListener('blur', function() {
          if(editableText2.value) {
            heading2.textContent = editableText2.value;
            changeHeaderText(1, editableText2.value);
	          editableText2.remove();
          }
	      });
	      heading2.textContent = '';
	      heading2.appendChild(editableText2);
              editableText2.focus();
	    });
	</script>
        <div class="panel dropdown" id="thermo3Panel">
          <h4 id="editable-heading3"></h4>
          <div class="outputData">
            <span class="outputDataValue" id="thermo3Value"></span>
            <span class="outputDataUnits" id="thermo3Scale"></span>
          </div>
        </div>
	  <script>
	    const heading3 = document.getElementById('editable-heading3');
	    heading3.addEventListener('click', function() {
	      const editableText = document.createElement('input');
	      editableText.value = heading3.textContent;
              heading3.focus();
	      editableText.addEventListener('keydown', function(event) {
	        if (event.key === 'Enter') {
            if(editableText.value) {
              heading3.textContent = editableText.value;
              changeHeaderText(2, editableText.value);
	            editableText.remove();
            }             
          }
        });
	      editableText.addEventListener('blur', function() {
          if(editableText.value) {
            heading3.textContent = editableText.value;
            changeHeaderText(2, editableText.value);
	          editableText.remove();
          }
	      });
	      heading3.textContent = '';
	      heading3.appendChild(editableText);
        editableText.focus();
	    });
	</script>
        <div class="panel dropdown" id="thermo4Panel">
          <h4 id="editable-heading4"></h4>
          <div class="outputData">
            <span class="outputDataValue" id="thermo4Value"></span>
            <span class="outputDataUnits" id="thermo4Scale"></span>
          </div>
        </div>
	  <script>
	    const heading4 = document.getElementById('editable-heading4');
	    heading4.addEventListener('click', function() {
	      const editableText = document.createElement('input');
	      editableText.value = heading4.textContent;
              heading4.focus();
	      editableText.addEventListener('keydown', function(event) {
	        if (event.key === 'Enter') {
            if(editableText.value) {
              heading4.textContent = editableText.value;
              changeHeaderText(3, editableText.value);
              editableText.remove();
            }    
          }
        });
	      editableText.addEventListener('blur', function() {
          if(editableText.value) {
            heading4.textContent = editableText.value;
            changeHeaderText(3, editableText.value);
	          editableText.remove();
          }
	      });
	      heading4.textContent = '';
	      heading4.appendChild(editableText);
        editableText.focus();
	    });
	</script>
        <div class="panel dropdown" id="thermo5Panel">
          <h4 id="editable-heading5"></h4>
          <div class="outputData">
            <span class="outputDataValue" id="thermo5Value"></span>
            <span class="outputDataUnits" id="thermo5Scale"></span>
          </div>
        </div>
	  <script>
	    const heading5 = document.getElementById('editable-heading5');
	    heading5.addEventListener('click', function() {
	      const editableText = document.createElement('input');
	      editableText.value = heading5.textContent;     
	      editableText.addEventListener('keydown', function(event) {
	        if (event.key === 'Enter') {
            if(editableText.value) {
              heading5.textContent = editableText.value;
              changeHeaderText(4, editableText.value);
              editableText.remove();
            }
          }
        });
	      editableText.addEventListener('blur', function() {
          if(editableText.value) {
            heading5.textContent = editableText.value;
            changeHeaderText(4, editableText.value);
	          editableText.remove();
          }
	      });
	      heading5.textContent = '';
	      heading5.appendChild(editableText);
        editableText.focus();
	    });
	</script>
        <div class="panel dropdown" id="thermo6Panel">
          <h4 id="editable-heading6"></h4>
          <div class="outputData">
            <span class="outputDataValue" id="thermo6Value"></span>
            <span class="outputDataUnits" id="thermo6Scale"></span>
          </div>
        </div>
	  <script>
	    const heading6 = document.getElementById('editable-heading6');
	    heading6.addEventListener('click', function() {
	      const editableText = document.createElement('input');
	      editableText.value = heading6.textContent;
	      editableText.addEventListener('keydown', function(event) {
	        if (event.key === 'Enter') {
            if(editableText.value) {
              heading6.textContent = editableText.value;
              changeHeaderText(5, editableText.value);
              editableText.remove();
            }        
          }
        });
	      editableText.addEventListener('blur', function() {
          if(editableText.value) {
            heading6.textContent = editableText.value;
            changeHeaderText(5, editableText.value);
	          editableText.remove();
          }  
	      });
	      heading6.textContent = '';
	      heading6.appendChild(editableText);
        editableText.focus();
	    });
	</script>
        <div class="panel dropdown" id="thermo7Panel">
          <h4 id="editable-heading7"></h4>
          <div class="outputData">
            <span class="outputDataValue" id="thermo7Value"></span>
            <span class="outputDataUnits" id="thermo7Scale"></span>
          </div>
        </div>
	  <script>
	    const heading7 = document.getElementById('editable-heading7');
	    heading7.addEventListener('click', function() {
	      const editableText = document.createElement('input');
	      editableText.value = heading7.textContent;
	      editableText.addEventListener('keydown', function(event) {
	        if (event.key === 'Enter') {
            if(editableText.value) {
              heading7.textContent = editableText.value;
              changeHeaderText(6, editableText.value);
              editableText.remove();
            }        
          }
        });
	      editableText.addEventListener('blur', function() {
          if(editableText.value) {
            heading7.textContent = editableText.value;
            changeHeaderText(6, editableText.value);
	          editableText.remove();
          }
	      });
	      heading7.textContent = '';
	      heading7.appendChild(editableText);
        editableText.focus();
	    });
	</script>
        <div class="panel dropdown" id="thermo8Panel">
          <h4 id="editable-heading8"></h4>
          <div class="outputData">
            <span class="outputDataValue" id="thermo8Value"></span>
            <span class="outputDataUnits" id="thermo8Scale"></span>  
          </div>
	  <script>
	    const heading8 = document.getElementById('editable-heading8');
	    heading8.addEventListener('click', function() {
	      const editableText = document.createElement('input');
	      editableText.value = heading8.textContent;
	      editableText.addEventListener('keydown', function(event) {
	        if (event.key === 'Enter') {
            if(editableText.value) {
              heading8.textContent = editableText.value;
              changeHeaderText(7, editableText.value);
              editableText.remove();
            }        
          }
        });
	      editableText.addEventListener('blur', function() {
          if(editableText.value) {
            heading8.textContent = editableText.value;
            changeHeaderText(7, editableText.value);
	          editableText.remove();
          }
	      });
	      heading8.textContent = '';
	      heading8.appendChild(editableText);
        editableText.focus();
	    });
	</script>	       
        </div>
      </div>
    </header>
    <div class="controlBar">
      <label style="margin-left:1em;color:white;">File name:</label>
      <input type="text" id="csvFileName" onmouseover="writeMessage('Base File Name- Date and extension will be added.')" onmouseout="writeMessage('')" style="margin-left:0.25em;">
      <input id="recordStopBtnElem" class="controlBtn" type="image" src="img/RecordNormal.png" onclick="recordStop();" onmouseover="this.src='img/RecordPressed.png'; writeMessage('START Recording Data to Base File Name');" onmouseout="this.src='img/RecordNormal.png'; writeMessage('');"/>
      <input id="pauseBtnElem" class="controlBtn" type="image" src="img/PauseNormal.png" onclick="pause();" onmouseover="this.src='img/PausePressed.png'; writeMessage('PAUSE Measurements')" onmouseout="this.src='img/PauseNormal.png'; writeMessage('')" />
      <a href="http://192.168.0.77/data/" id="downloadBtnElem" class="controlBtn"><img src="img/downloadNormal.png" onmouseover="this.src='img/downloadPressed2.png'; writeMessage('Download a Data Set')" onmouseout="this.src='img/downloadNormal.png'; writeMessage('')"alt="Download a dataSet"></a>
      <div id="message" style="color:white;"></div>
      <div id="settingsElem" class="settingsDropdown">
        <span style="">
          <input type="text" id="sampleRate" value="1000" onmouseover="writeMessage('Sample Interval (ms)')" onmouseout="writeMessage('')">
          <button type="button" onclick="sampleRate();" onmouseover="writeMessage('Click to set Sample Interval (ms)')" onmouseout="writeMessage('')">Set Sampling Interval (ms)</button>
        </span>       
      </div>
    </div>
    
    <div id="chartDiv" class="chartcontainer"></div>
    <div class="graphControlBar">
      <div id="chartControlLabel">
        Chart Control:
      </div>
      <div class="graphControls">
        <input id="plotTemp1" checked onclick="changeVisibility(this,0)" type="checkbox">
        <label for="plotTemp1" id="plotTempLabel1">T1</label>
      </div>

      <div class="graphControls">
        <input id="plotTemp2" checked onclick="changeVisibility(this,1)" type="checkbox">
        <label for="plotTemp2" id="plotTempLabel2">T2</label>
      </div>

      <div class="graphControls">
        <input id="plotTemp3" checked onclick="changeVisibility(this,2)" type="checkbox">
        <label for="plotTemp3" id="plotTempLabel3">T3</label>
      </div>
      <div class="graphControls">
        <input id="plotTemp4" checked onclick="changeVisibility(this,3)" type="checkbox">
        <label for="plotTemp4" id="plotTempLabel4">T4</label>
      </div>

      <div class="graphControls">
        <input id="plotTemp5" checked onclick="changeVisibility(this,4)" type="checkbox">
        <label for="plotTemp5" id="plotTempLabel5">T5</label>
      </div>
      <div class="graphControls">
        <input id="plotTemp6" checked onclick="changeVisibility(this,5)" type="checkbox">
        <label for="plotTemp6" id="plotTempLabel6">T6</label>
      </div>

      <div class="graphControls">
        <input id="plotTemp7" checked onclick="changeVisibility(this,6)" type="checkbox">
        <label for="plotTemp7" id="plotTempLabel7">T7</label>
      </div>

      <div class="graphControls">
        <input id="plotTemp8" checked onclick="changeVisibility(this,7)" type="checkbox">
        <label for="plotTemp8" id="plotTempLabel8">T8</label>
      </div>

      <span id="chartInstructions"> Disable "Live Plot" to explore Data. Double-clicking zooms all the way out. Click and drag to zoom. Shift-drag will pan.</span>

      <div class="graphControls">
        <input id="dynamicPlot" checked="true" type="checkbox" onmouseover="writeMessage('Keep up with the Latest Data')" onmouseout="writeMessage('')">
        <label for="dynamicPlot" onmouseover="writeMessage('Keep up with the Latest Data')" onmouseout="writeMessage('')">Live Plot </label>
        <input type="text" id="historySize" value="2400" onmouseover="writeMessage('Max Number of Latest samples to Plot')" onmouseout="writeMessage('')">
        <label for="historySize" onmouseover="writeMessage('Max Number of Latest samples to Plot')" onmouseout="writeMessage('')">Samples on graph</label>
      </div>
      <input id="resetChartDataBtn" class="controlBtn" type="image" src="img/cleanup.png" onclick="clearDatasets();" onmouseover="writeMessage('Clear Chart Data')" onmouseout="writeMessage('')" />
    </div>
<body>
</html>
  
